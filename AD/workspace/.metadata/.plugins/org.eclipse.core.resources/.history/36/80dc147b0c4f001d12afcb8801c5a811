import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.util.List;

public class AccesoVideojuegoTexto {
	public static final String NOMBRE_FICHERO_VIDEOJUEGOS = "data/videojuegos.dat";
	private static void existeFichero() throws IOException {
		File fichero = new File(NOMBRE_FICHERO_VIDEOJUEGOS);
		fichero.createNewFile(); //crea el fichero solamente si no existia antes
	}
	public static void escribirFichero(List<Videojuego> nuevaLista) throws IOException {
		existeFichero();
		List <Videojuego> lista = nuevaLista;
		BufferedWriter flujoSalida = null;
		try {
			flujoSalida = new BufferedWriter(new FileWriter(NOMBRE_FICHERO_VIDEOJUEGOS));
			for(Videojuego videojuego: lista) {
				flujoSalida.write(videojuego.toStringWithSeparators() + "\n");
			}
		}
		finally {
			if(flujoSalida != null)
				flujoSalida.close();	
		}
	}
	
}
