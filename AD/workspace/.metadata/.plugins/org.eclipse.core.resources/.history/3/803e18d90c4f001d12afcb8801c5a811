import java.io.IOException;
import java.util.List;

import entrada.Teclado;

public class GestorVideojuegos {

	public static void main(String[] args) throws ClassNotFoundException {
		try {
			int opcion = -1;
			do {
				imprimirMenú();
				opcion = Teclado.leerEntero("Opción: ");
				menu(opcion);
			}while(opcion != 0);
			
		}
		catch (IOException ioe) {
			System.out.println("Error al leer del fichero:");
			System.out.println(ioe.getMessage());
			ioe.printStackTrace();
		}
	}
	public static void imprimirMenú() {
		System.out.println("0) Salir del programa.\n1) Crear un fichero de texto a partir del fichero binario.\n"
				+ "2) Consultar todos los videojuegos del fichero de texto.\n"
				+ "3) Eliminar un videojuego, por codigo, del fichero binario.\n"
				+ "4) Actualizar un videojuego, por codigo, del fichero de texto.");
	}
	public static void crearFichero() throws ClassNotFoundException, IOException {
		List<Videojuego> listaVideojuegos = AccesoVideojuegoBinario.leerVideojuegos();
		AccesoVideojuegoTexto.escribirVideojuegos(listaVideojuegos);
		System.out.println("Se han copiado " + listaVideojuegos.size() + " videojuegos desde el fichero binario"
				+ " al fichero de texto.");
	}
	public static void menu(int opción) throws IOException, ClassNotFoundException {
		int codigo;
		switch (opción) {
		case 0:
			break;
		case 1: // 
			crearFichero();
			break;
		case 2: // 
			//metodo2
			break;
		case 3: // 
			//metodo3
			break;
		case 4: // 
			//metodo4
			break;
		default:
			System.out.println("La opcion de menu debe estar comprendida entre 0 y 4.");
		}
	}
}
